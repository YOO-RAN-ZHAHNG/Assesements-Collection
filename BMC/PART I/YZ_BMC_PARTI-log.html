<!DOCTYPE HTML><html><head><meta charset="UTF-8"></meta><link rel="stylesheet" href="./log.css"></link><style rel="stylesheet">.sasError {color: red;}.sasMessage{color:#000000;}.sasWarning{color:green;}.sasSource{color:#000000;}.sasNote {color:blue;}</style><title>Log:Yueran Zhang_Part I.sas</title></head><body class='sasLog'><pre class='sasLog' id='pre_sasLog_1804' style='background-color:transparent; -webkit-user-select: text; -webkit-user-modify: read-only;-webkit-touch-callout: default;border-top-width: 0px;border-bottom-width: 0px'><div class="sasSource"> </div><div class="sasSource"> 1          OPTIONS NONOTES NOSTIMER NOSOURCE NOSYNTAXCHECK;</div><div class="sasSource"> 68         </div><div class="sasSource"> 69         **************************************************************************************</div><div class="sasSource"> 70         **Research Data Analyst Candidate Assessment</div><div class="sasSource"> 70       !                                           </div><div class="sasSource"> 71         **Name: Yueran Zhang(yz4188@cumc.columbia.edu)</div><div class="sasSource"> 72         **Part I. Data Manipulation</div><div class="sasSource"> 73         </div><div class="sasSource"> 74         **************************************************************************************;</div><div class="sasSource"> 75         </div><div class="sasSource"> 76         *Import these two 'xlsx' files into SAS;</div><div class="sasSource"> 77         /*Male*/</div><div class="sasSource"> 78         proc import datafile = "/home/u60696321/sasuser.v94/SMRDt_Male.xlsx"</div><div class="sasSource"> 79         out = SMRDt_Male</div><div class="sasSource"> 80         DBMS = XLSX Replace;</div><div class="sasSource"> 81         sheet = "Sheet1";</div><div class="sasSource"> 82         run;</div><div class="sasNote"> </div><div class="sasNote" id="sasLogNote1_1687534829583"> NOTE: One or more variables were converted because the data type is not supported by the V9 engine. For more details, run with </div><div class="sasNote">       options MSGLEVEL=I.</div><div class="sasNote" id="sasLogNote2_1687534829583"> NOTE: The import data set has 7 observations and 4 variables.</div><div class="sasNote" id="sasLogNote3_1687534829583"> NOTE: WORK.SMRDT_MALE data set was successfully created.</div><div class="sasNote" id="sasLogNote4_1687534829583"> NOTE: PROCEDURE IMPORT used (Total process time):</div><div class="sasNote">       real time           0.00 seconds</div><div class="sasNote">       user cpu time       0.01 seconds</div><div class="sasNote">       system cpu time     0.00 seconds</div><div class="sasNote">       memory              3338.62k</div><div class="sasNote">       OS Memory           24056.00k</div><div class="sasNote">       Timestamp           06/23/2023 03:40:29 PM</div><div class="sasNote">       Step Count                        38  Switch Count  4</div><div class="sasNote">       Page Faults                       0</div><div class="sasNote">       Page Reclaims                     798</div><div class="sasNote">       Page Swaps                        0</div><div class="sasNote">       Voluntary Context Switches        27</div><div class="sasNote">       Involuntary Context Switches      0</div><div class="sasNote">       Block Input Operations            0</div><div class="sasNote">       Block Output Operations           264</div><div class="sasNote">       </div><div class="sasNote"> </div><div class="sasSource"> 83         </div><div class="sasSource"> 84         </div><div class="sasSource"> 85         /*Female*/</div><div class="sasSource"> 86         proc import datafile = "/home/u60696321/sasuser.v94/SMRDt_Female.xlsx"</div><div class="sasSource"> 87         out = SMRDt_Female</div><div class="sasSource"> 88         DBMS = XLSX Replace;</div><div class="sasSource"> 89         sheet = "Sheet1";</div><div class="sasSource"> 90         run;</div><div class="sasNote"> </div><div class="sasNote" id="sasLogNote5_1687534829583"> NOTE: One or more variables were converted because the data type is not supported by the V9 engine. For more details, run with </div><div class="sasNote">       options MSGLEVEL=I.</div><div class="sasNote" id="sasLogNote6_1687534829583"> NOTE: The import data set has 7 observations and 4 variables.</div><div class="sasNote" id="sasLogNote7_1687534829583"> NOTE: WORK.SMRDT_FEMALE data set was successfully created.</div><div class="sasNote" id="sasLogNote8_1687534829583"> NOTE: PROCEDURE IMPORT used (Total process time):</div><div class="sasNote">       real time           0.00 seconds</div><div class="sasNote">       user cpu time       0.00 seconds</div><div class="sasNote">       system cpu time     0.00 seconds</div><div class="sasNote">       memory              3339.68k</div><div class="sasNote">       OS Memory           24056.00k</div><div class="sasNote">       Timestamp           06/23/2023 03:40:29 PM</div><div class="sasNote">       Step Count                        39  Switch Count  4</div><div class="sasNote">       Page Faults                       0</div><div class="sasNote">       Page Reclaims                     716</div><div class="sasNote">       Page Swaps                        0</div><div class="sasNote">       Voluntary Context Switches        24</div><div class="sasNote">       Involuntary Context Switches      0</div><div class="sasNote">       Block Input Operations            0</div><div class="sasNote">       Block Output Operations           264</div><div class="sasNote">       </div><div class="sasNote"> </div><div class="sasSource"> 91         </div><div class="sasSource"> 92         /*Since SAS cannot treate the title with blank as a text string, we need to convert it*/</div><div class="sasSource"> 93         data SMRDt_Male;</div><div class="sasSource"> 94         set SMRDt_Male;</div><div class="sasSource"> 95         rename</div><div class="sasSource"> 96         'Age range'n = Age_Range</div><div class="sasSource"> 97         'N of observed death'n= N_of_observed_death</div><div class="sasSource"> 98         'Town Population'n = Town_Population</div><div class="sasSource"> 99         'State Level Rate per 100,000'n = State_Level_Rate;</div><div class="sasSource"> 100        run;</div><div class="sasNote"> </div><div class="sasNote" id="sasLogNote9_1687534829583"> NOTE: There were 7 observations read from the data set WORK.SMRDT_MALE.</div><div class="sasNote" id="sasLogNote10_1687534829583"> NOTE: The data set WORK.SMRDT_MALE has 7 observations and 4 variables.</div><div class="sasNote" id="sasLogNote11_1687534829583"> NOTE: DATA statement used (Total process time):</div><div class="sasNote">       real time           0.00 seconds</div><div class="sasNote">       user cpu time       0.00 seconds</div><div class="sasNote">       system cpu time     0.00 seconds</div><div class="sasNote">       memory              944.65k</div><div class="sasNote">       OS Memory           21928.00k</div><div class="sasNote">       Timestamp           06/23/2023 03:40:29 PM</div><div class="sasNote">       Step Count                        40  Switch Count  2</div><div class="sasNote">       Page Faults                       0</div><div class="sasNote">       Page Reclaims                     137</div><div class="sasNote">       Page Swaps                        0</div><div class="sasNote">       Voluntary Context Switches        10</div><div class="sasNote">       Involuntary Context Switches      0</div><div class="sasNote">       Block Input Operations            0</div><div class="sasNote">       Block Output Operations           272</div><div class="sasNote">       </div><div class="sasNote"> </div><div class="sasSource"> 101        </div><div class="sasSource"> 102        data SMRDt_Female;</div><div class="sasSource"> 103        set SMRDt_Female;</div><div class="sasSource"> 104        rename</div><div class="sasSource"> 105        'Age range'n = Age_Range</div><div class="sasSource"> 106        'N of observed death'n= N_of_observed_death</div><div class="sasSource"> 107        'Town Population'n = Town_Population</div><div class="sasSource"> 108        'State Level Rate per 100,000'n = State_Level_Rate;</div><div class="sasSource"> 109        run;</div><div class="sasNote"> </div><div class="sasNote" id="sasLogNote12_1687534829583"> NOTE: There were 7 observations read from the data set WORK.SMRDT_FEMALE.</div><div class="sasNote" id="sasLogNote13_1687534829583"> NOTE: The data set WORK.SMRDT_FEMALE has 7 observations and 4 variables.</div><div class="sasNote" id="sasLogNote14_1687534829583"> NOTE: DATA statement used (Total process time):</div><div class="sasNote">       real time           0.00 seconds</div><div class="sasNote">       user cpu time       0.00 seconds</div><div class="sasNote">       system cpu time     0.00 seconds</div><div class="sasNote">       memory              944.68k</div><div class="sasNote">       OS Memory           21928.00k</div><div class="sasNote">       Timestamp           06/23/2023 03:40:29 PM</div><div class="sasNote">       Step Count                        41  Switch Count  2</div><div class="sasNote">       Page Faults                       0</div><div class="sasNote">       Page Reclaims                     134</div><div class="sasNote">       Page Swaps                        0</div><div class="sasNote">       Voluntary Context Switches        9</div><div class="sasNote">       Involuntary Context Switches      0</div><div class="sasNote">       Block Input Operations            0</div><div class="sasNote">       Block Output Operations           264</div><div class="sasNote">       </div><div class="sasNote"> </div><div class="sasSource"> 110        </div><div class="sasSource"> 111        /*Calculating for the values in 'Male' table*/</div><div class="sasSource"> 112        data SMRDt_MaleTotal;</div><div class="sasSource"> 113        set SMRDt_Male;</div><div class="sasSource"> 114        Gender = 'Male';</div><div class="sasSource"> 115        Yearly_Crude_Death_Rate = N_of_observed_death/Town_Population;</div><div class="sasSource"> 116        /*According to the definition, the crude death rate is the number of observed death</div><div class="sasSource"> 117        divided by total person-time. However, as we know this is a whole year's data, we can</div><div class="sasSource"> 118        use the population numbers to represent the total person time.*/</div><div class="sasSource"> 119        </div><div class="sasSource"> 120        Monthly_Crude_Death_Rate = Yearly_Crude_Death_Rate/12;</div><div class="sasSource"> 121        /* From given information, we assume the rate is evenly distributed in each month,</div><div class="sasSource"> 122        so the monthly rate is calculating by yearly crude death rate divided by 12.*/</div><div class="sasSource"> 123        </div><div class="sasSource"> 124        Monthly_Crude_Death_Probability =1-exp(-Monthly_Crude_Death_Rate*1);</div><div class="sasSource"> 125        /* Since we want to know about monthly probability, so t2=1(for time scale equals to 1 month),</div><div class="sasSource"> 126        and from the above calculation, we know that the monthly crude death rate, so t1=1 (time scale equals to 1 month too!),</div><div class="sasSource"> 127        then the t would be equal to 1.*/</div><div class="sasSource"> 128        </div><div class="sasSource"> 129        Yearly_Expected_Death_Rate = (State_Level_Rate/100000);</div><div class="sasSource"> 130        /* For expected death rate, we use State level death rate devided by 100000(since we only know aboutState Level Rate per</div><div class="sasSource"> 130      ! 100,000),</div><div class="sasSource"> 131         in order to know the death rate for each individual and we get the yearly expected death rate.*/</div><div class="sasSource"> 132        </div><div class="sasSource"> 133         Yearly_SMR = N_of_observed_death/((State_Level_Rate/100000)* Town_Population);</div><div class="sasSource"> 134        /*SMR is a ratio between the observed number of deaths within the study population and the expected number of deaths.</div><div class="sasSource"> 135        </div><div class="sasSource"> 136        As we know for the exact number for observed number of deaths, which we can get from the original table.</div><div class="sasSource"> 137         </div><div class="sasSource"> 138        For the expected number of deaths, we can calcualte by knowing the expected deaths rate for each individual,</div><div class="sasSource"> 139        which is State level death rate devided by 100000(since we only know aboutState Level Rate per 100,000),and then we</div><div class="sasSource"> 139      ! multiple the town population,</div><div class="sasSource"> 140        and then we can get the expected deaths population number.*/</div><div class="sasSource"> 141        </div><div class="sasSource"> 142        drop State_Level_Rate N_of_observed_death Town_Population;</div><div class="sasSource"> 143        </div><div class="sasSource"> 144        run;</div><div class="sasNote"> </div><div class="sasNote" id="sasLogNote15_1687534829583"> NOTE: There were 7 observations read from the data set WORK.SMRDT_MALE.</div><div class="sasNote" id="sasLogNote16_1687534829583"> NOTE: The data set WORK.SMRDT_MALETOTAL has 7 observations and 7 variables.</div><div class="sasNote" id="sasLogNote17_1687534829583"> NOTE: DATA statement used (Total process time):</div><div class="sasNote">       real time           0.00 seconds</div><div class="sasNote">       user cpu time       0.00 seconds</div><div class="sasNote">       system cpu time     0.00 seconds</div><div class="sasNote">       memory              963.21k</div><div class="sasNote">       OS Memory           21928.00k</div><div class="sasNote">       Timestamp           06/23/2023 03:40:29 PM</div><div class="sasNote">       Step Count                        42  Switch Count  2</div><div class="sasNote">       Page Faults                       0</div><div class="sasNote">       Page Reclaims                     130</div><div class="sasNote">       Page Swaps                        0</div><div class="sasNote">       Voluntary Context Switches        12</div><div class="sasNote">       Involuntary Context Switches      0</div><div class="sasNote">       Block Input Operations            0</div><div class="sasNote">       Block Output Operations           272</div><div class="sasNote">       </div><div class="sasNote"> </div><div class="sasSource"> 145        </div><div class="sasSource"> 146        </div><div class="sasSource"> 147        /*Calculating for the values in 'Female' table*/</div><div class="sasSource"> 148        data SMRDt_FemaleTotal;</div><div class="sasSource"> 149        set SMRDt_Female;</div><div class="sasSource"> 150        Gender = 'Female';</div><div class="sasSource"> 151        Yearly_Crude_Death_Rate = N_of_observed_death/Town_Population;</div><div class="sasSource"> 152        Monthly_Crude_Death_Rate = Yearly_Crude_Death_Rate/12;</div><div class="sasSource"> 153        Monthly_Crude_Death_Probability =1-exp(-Monthly_Crude_Death_Rate*1);</div><div class="sasSource"> 154        Yearly_Expected_Death_Rate = (State_Level_Rate/100000);</div><div class="sasSource"> 155        Yearly_SMR = N_of_observed_death/((State_Level_Rate/100000)* Town_Population);</div><div class="sasSource"> 156        /*SMR is a ratio between the observed number of deaths within the study population and the expected number of deaths.</div><div class="sasSource"> 157        </div><div class="sasSource"> 158        As we know for the exact number for observed number of deaths, which we can get from the original table.</div><div class="sasSource"> 159         </div><div class="sasSource"> 160        For the expected number of deaths, we can calcualte by knowing the expected deaths rate for each individual,</div><div class="sasSource"> 161        which is State level death rate devided by 100000(since we only know aboutState Level Rate per 100,000),and then we</div><div class="sasSource"> 161      ! multiple the town population,</div><div class="sasSource"> 162        and then we can get the expected deaths population number.*/</div><div class="sasSource"> 163        </div><div class="sasSource"> 164        drop State_Level_Rate N_of_observed_death Town_Population;</div><div class="sasSource"> 165        run;</div><div class="sasNote"> </div><div class="sasNote" id="sasLogNote18_1687534829583"> NOTE: There were 7 observations read from the data set WORK.SMRDT_FEMALE.</div><div class="sasNote" id="sasLogNote19_1687534829583"> NOTE: The data set WORK.SMRDT_FEMALETOTAL has 7 observations and 7 variables.</div><div class="sasNote" id="sasLogNote20_1687534829583"> NOTE: DATA statement used (Total process time):</div><div class="sasNote">       real time           0.00 seconds</div><div class="sasNote">       user cpu time       0.00 seconds</div><div class="sasNote">       system cpu time     0.00 seconds</div><div class="sasNote">       memory              957.59k</div><div class="sasNote">       OS Memory           21928.00k</div><div class="sasNote">       Timestamp           06/23/2023 03:40:29 PM</div><div class="sasNote">       Step Count                        43  Switch Count  2</div><div class="sasNote">       Page Faults                       0</div><div class="sasNote">       Page Reclaims                     129</div><div class="sasNote">       Page Swaps                        0</div><div class="sasNote">       Voluntary Context Switches        12</div><div class="sasNote">       Involuntary Context Switches      0</div><div class="sasNote">       Block Input Operations            0</div><div class="sasNote">       Block Output Operations           264</div><div class="sasNote">       </div><div class="sasNote"> </div><div class="sasSource"> 166        </div><div class="sasSource"> 167        </div><div class="sasSource"> 168        proc sql;</div><div class="sasSource"> 169           create table Total as</div><div class="sasSource"> 170              select * from SMRDt_FemaleTotal</div><div class="sasSource"> 171              union</div><div class="sasSource"> 172              select * from SMRDt_MaleTotal;</div><div class="sasNote" id="sasLogNote21_1687534829583"> NOTE: Table WORK.TOTAL created, with 14 rows and 7 columns.</div><div class="sasSource"> </div><div class="sasSource"> 173        title 'Final Output';</div><div class="sasSource"> 174        select *</div><div class="sasSource"> 175              from Total;</div><div class="sasSource"> 176        /*This is the same table we want as the Final Output!*/</div><div class="sasSource"> 177        </div><div class="sasSource"> 178        </div><div class="sasNote" id="sasLogNote22_1687534829583"> NOTE: PROCEDURE SQL used (Total process time):</div><div class="sasNote">       real time           0.02 seconds</div><div class="sasNote">       user cpu time       0.02 seconds</div><div class="sasNote">       system cpu time     0.00 seconds</div><div class="sasNote">       memory              5920.21k</div><div class="sasNote">       OS Memory           27052.00k</div><div class="sasNote">       Timestamp           06/23/2023 03:40:29 PM</div><div class="sasNote">       Step Count                        44  Switch Count  3</div><div class="sasNote">       Page Faults                       0</div><div class="sasNote">       Page Reclaims                     259</div><div class="sasNote">       Page Swaps                        0</div><div class="sasNote">       Voluntary Context Switches        15</div><div class="sasNote">       Involuntary Context Switches      0</div><div class="sasNote">       Block Input Operations            0</div><div class="sasNote">       Block Output Operations           280</div><div class="sasNote">       </div><div class="sasNote"> </div><div class="sasSource"> 179        data SMR_Difference;</div><div class="sasSource"> 180        format Age_Range Female_SMR Male_SMR Diffenerce;</div><div class="sasSource"> 181        set Total;</div><div class="sasSource"> 182        by  Age_Range;</div><div class="sasSource"> 183        Male_SMR = Yearly_SMR;</div><div class="sasSource"> 184        Female_SMR = lag(Yearly_SMR);</div><div class="sasSource"> 185        Difference = abs(((Female_SMR -Male_SMR)/Female_SMR)*100);</div><div class="sasSource"> 186        if not first.Age_Range then output;</div><div class="sasSource"> 187        drop Yearly_SMR Gender Yearly_Crude_Death_Rate Monthly_Crude_Death_Rate Yearly_Expected_Death_Rate</div><div class="sasSource"> 187      ! Monthly_Crude_Death_Probability;</div><div class="sasSource"> 188        title 'SMR Difference';</div><div class="sasSource"> 189        run;</div><div class="sasNote"> </div><div class="sasNote" id="sasLogNote23_1687534829583"> NOTE: Variable Diffenerce is uninitialized.</div><div class="sasNote" id="sasLogNote24_1687534829583"> NOTE: Missing values were generated as a result of performing an operation on missing values.</div><div class="sasNote">       Each place is given by: (Number of times) at (Line):(Column).</div><div class="sasNote">       1 at 185:14   1 at 185:31   1 at 185:41   1 at 185:53   </div><div class="sasNote" id="sasLogNote25_1687534829583"> NOTE: There were 14 observations read from the data set WORK.TOTAL.</div><div class="sasNote" id="sasLogNote26_1687534829583"> NOTE: The data set WORK.SMR_DIFFERENCE has 7 observations and 4 variables.</div><div class="sasNote" id="sasLogNote27_1687534829583"> NOTE: DATA statement used (Total process time):</div><div class="sasNote">       real time           0.00 seconds</div><div class="sasNote">       user cpu time       0.01 seconds</div><div class="sasNote">       system cpu time     0.00 seconds</div><div class="sasNote">       memory              1020.18k</div><div class="sasNote">       OS Memory           21928.00k</div><div class="sasNote">       Timestamp           06/23/2023 03:40:29 PM</div><div class="sasNote">       Step Count                        45  Switch Count  3</div><div class="sasNote">       Page Faults                       0</div><div class="sasNote">       Page Reclaims                     131</div><div class="sasNote">       Page Swaps                        0</div><div class="sasNote">       Voluntary Context Switches        21</div><div class="sasNote">       Involuntary Context Switches      0</div><div class="sasNote">       Block Input Operations            0</div><div class="sasNote">       Block Output Operations           264</div><div class="sasNote">       </div><div class="sasNote"> </div><div class="sasSource"> 190        proc print data =SMR_Difference;</div><div class="sasSource"> 191        run;</div><div class="sasNote"> </div><div class="sasNote" id="sasLogNote28_1687534829583"> NOTE: There were 7 observations read from the data set WORK.SMR_DIFFERENCE.</div><div class="sasNote" id="sasLogNote29_1687534829583"> NOTE: PROCEDURE PRINT used (Total process time):</div><div class="sasNote">       real time           0.01 seconds</div><div class="sasNote">       user cpu time       0.01 seconds</div><div class="sasNote">       system cpu time     0.00 seconds</div><div class="sasNote">       memory              695.93k</div><div class="sasNote">       OS Memory           21668.00k</div><div class="sasNote">       Timestamp           06/23/2023 03:40:29 PM</div><div class="sasNote">       Step Count                        46  Switch Count  0</div><div class="sasNote">       Page Faults                       0</div><div class="sasNote">       Page Reclaims                     68</div><div class="sasNote">       Page Swaps                        0</div><div class="sasNote">       Voluntary Context Switches        0</div><div class="sasNote">       Involuntary Context Switches      0</div><div class="sasNote">       Block Input Operations            0</div><div class="sasNote">       Block Output Operations           0</div><div class="sasNote">       </div><div class="sasNote"> </div><div class="sasSource"> 192        </div><div class="sasSource"> 193        /* The table is the difference between MALE YEARLY SMR VALUE and FEMALE YEARLY SMR VALUE</div><div class="sasSource"> 194         for each stratified age group, so the formula for the diffenece is:</div><div class="sasSource"> 195         The Absolute Value of</div><div class="sasSource"> 196         (Female Yearly SMR)-(Male Yearly SMR)/(Female Yearly SMR)*100%</div><div class="sasSource"> 197        </div><div class="sasSource"> 198         According to 10% percentage Condition, if the difference is less than 10%,</div><div class="sasSource"> 199         we can conclude that SMR value is no siginificant difference between SMR value and gender.</div><div class="sasSource"> 200         Howeverm for seven stratified age group, we can only observe '55_64' and '65_74' these two age group's</div><div class="sasSource"> 201         SMR difference is less than 10%.</div><div class="sasSource"> 202        </div><div class="sasSource"> 203         Therefore, we should report that there isno siginificant difference between gender in SMR. */</div><div class="sasSource"> 204        </div><div class="sasSource"> 205        </div><div class="sasSource"> 206        </div><div class="sasSource"> 207        </div><div class="sasSource"> 208        </div><div class="sasSource"> 209        OPTIONS NONOTES NOSTIMER NOSOURCE NOSYNTAXCHECK;</div><div class="sasSource"> 219        </div></pre></body></html>